cmake_minimum_required(VERSION 2.8)
set(CMAKE_BUILD_TYPE Release)
add_subdirectory(libdivsufsort-2.0.1)
project(Sibelia CXX)
include_directories(${Sibelia_SOURCE_DIR}/include ${libdivsufsort_BINARY_DIR}/include)
add_executable(Sibelia resource.cpp main.cpp outputgenerator.cpp stranditerator.cpp blockfinder.cpp blockinstance.cpp bifurcationstorage.cpp bulgeremoval.cpp dnasequence.cpp edge.cpp fasta.cpp graphalgorithm.cpp hashing.cpp serialization.cpp synteny.cpp test/unrolledlisttest.cpp)
target_link_libraries(Sibelia divsufsort)
if(CMAKE_COMPILER_IS_GNUXX)
	list(APPEND CMAKE_CXX_FLAGS "-std=c++0x")
endif(CMAKE_COMPILER_IS_GNUXX)
if(GCC_STATIC_RUNTIME)
	list(APPEND CMAKE_CXX_FLAGS "-static-libgcc -static-libstdc++")
endif(GCC_STATIC_RUNTIME)
install(TARGETS Sibelia RUNTIME DESTINATION bin)